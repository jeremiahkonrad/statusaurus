(this.webpackJsonpstatusaurus=this.webpackJsonpstatusaurus||[]).push([[0],{10:function(e,t,a){e.exports=a(18)},15:function(e,t,a){},16:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(6),c=a.n(r),u=(a(15),a(8)),o=(a(16),["accounts","assets","customers","datapoints","devices","documents","forms","invites","media","messages","namespaces","orders","patients","relationships","rules","templates","users","workflows"]),l=["messages","users"],i=function(e){return fetch(function(e){return l.includes(e)?(t="https://api.factoryfour.com/".concat(e,"/health/status"),"https://cors-anywhere.herokuapp.com/".concat(t)):"https://api.factoryfour.com/".concat(e,"/health/status");var t}(e)).then((function(e){return e.json()})).catch((function(e){return console.error(e)}))},m=a(9),d=a(4),p=a(1),f=function(e,t){var a=t.type,n=t.apiName,s=t.status;switch(a){case"RECEIVE_STATUS":return Object(p.a)(Object(p.a)({},e),{},{apis:Object(p.a)(Object(p.a)({},null===e||void 0===e?void 0:e.apis),{},Object(d.a)({},n,Object(p.a)({},s)))});case"STATUS_OK ":return Object(p.a)(Object(p.a)({},e),{},{outages:e.outages.filter((function(e){return e!==n}))});case"STATUS_OUTAGE ":return Object(p.a)(Object(p.a)({},e),{},{outages:e.outages.includes(n)?e.outages:[].concat(Object(m.a)(e.outages),[n])});default:throw new Error}},E=function(e){var t=e.outages;return s.a.createElement("div",{className:"outages"},s.a.createElement("p",null,s.a.createElement("strong",null,"Current Outages(".concat(t.length,"): [").concat(t.join(", "),"]"))),s.a.createElement("p",null,"*Note `messages` and `users` APIs may render as a false positive once CORS proxy hits rate-limiting",s.a.createElement("br",null),"The number of requests is limited to 200 per 60 minutes."))},h=a(7),v=a.n(h),g=function(e){var t=e.api,a=e.status,n=(null===a||void 0===a?void 0:a.success)||!1,r=(null===a||void 0===a?void 0:a.message)||"outage",c=(null===a||void 0===a?void 0:a.hostname)||"n/a",u=(null===a||void 0===a?void 0:a.time)||null;return s.a.createElement("tr",{className:n?"api-up":"api-outage"},s.a.createElement("td",{className:"api-name"},t),s.a.createElement("td",null,u?v()(u).format("LTS"):"----"),s.a.createElement("td",null,c),s.a.createElement("td",null,n?r:s.a.createElement("strong",null,r)))},b=function(e){var t=e.statuses;return s.a.createElement("table",{className:"status-table"},s.a.createElement("thead",{className:"status-table-header"},s.a.createElement("tr",null,s.a.createElement("td",null,"API"),s.a.createElement("td",null,"Time"),s.a.createElement("td",null,"Hostname"),s.a.createElement("td",null,"Message"))),s.a.createElement("tbody",null,Object.keys(t).map((function(e){return s.a.createElement(g,{api:e,status:t[e],key:e})}))))},O={apis:{},outages:[]},j=function(e){return o.forEach((function(t){i(t).then((function(a){e({type:"RECEIVE_STATUS",apiName:t,status:a}),null===a||void 0===a||a.success,e({type:"STATUS_OUTAGE ",apiName:t}),!0===(null===a||void 0===a?void 0:a.success)&&e({type:"STATUS_OK ",apiName:t})}))}))},T=function(){var e=Object(n.useReducer)(f,O),t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){j(r);var e=setInterval((function(){j(r)}),15e3);return function(){clearInterval(e)}}),[]),s.a.createElement("div",{className:"statusaurus"},s.a.createElement("h1",null,"Statusaurus"),s.a.createElement("h3",null,"Quick glance at the statuses of our API (refreshes automatically)"),s.a.createElement(E,{outages:a.outages}),s.a.createElement(b,{statuses:a.apis}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.2c1b4b0c.chunk.js.map